function resetMessages(){document.querySelectorAll(".field-msg").forEach(e=>e.classList.remove("show"))}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}document.addEventListener("DOMContentLoaded",(function(e){let s=document.getElementById("magnet-testimonial-form");s.addEventListener("submit",e=>{e.preventDefault(),resetMessages();let a={name:s.querySelector('[name="name"]').value,email:s.querySelector('[name="email"]').value,message:s.querySelector('[name="message"]').value,nonce:s.querySelector('[name="nonce"]').value};if(!a.name)return void s.querySelector('[data-error="invalidName"]').classList.add("show");if(!validateEmail(a.email))return void s.querySelector('[data-error="invalidEmail"]').classList.add("show");if(!a.message)return void s.querySelector('[data-error="invalidMessage"]').classList.add("show");let r=s.dataset.url,t=new URLSearchParams(new FormData(s));s.querySelector(".js-form-submission").classList.add("show"),fetch(r,{method:"POST",body:t}).then(e=>e.json()).catch(e=>{resetMessages(),s.querySelector(".js-form-error").classList.add("show")}).then(e=>{resetMessages(),0!==e&&"error"!==e.status?(s.querySelector(".js-form-success").classList.add("show"),s.reset()):s.querySelector(".js-form-error").classList.add("show")})})}));